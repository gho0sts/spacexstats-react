(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{223:function(e,t,o){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=l(o(224)),u=l(o(225)),s=o(226),i=l(o(55));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._platformName=i.default.getPlatformName(),o._parseShortcutDescriptor=function(e){return a.default.isPlainObject(e)?a.default.get(e,o._platformName):e},o._keymap=e,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.EventEmitter),r(t,[{key:"addUpdateListener",value:function(e){(0,u.default)(e,"addUpdateListener: callback argument is not defined or falsy"),this.on(t.CHANGE_EVENT,e)}},{key:"removeUpdateListener",value:function(e){this.removeListener(t.CHANGE_EVENT,e)}},{key:"setKeymap",value:function(e){(0,u.default)(e,"setKeymap: keymap argument is not defined or falsy."),this._keymap=e,this.emit(t.CHANGE_EVENT)}},{key:"extendKeymap",value:function(e){(0,u.default)(e,"extendKeymap: keymap argument is not defined or falsy."),this._keymap=Object.assign({},this._keymap,e),this.emit(t.CHANGE_EVENT)}},{key:"getAllShortcuts",value:function(){return this._keymap}},{key:"getAllShortcutsForPlatform",value:function(e){return function t(o){return a.default.reduce(o,function(o,n,r){if(a.default.isPlainObject(n)){if(!n[e])return o[r]=t(n),o;n=n[e]}return o[r]=n,o},{})}(this._keymap)}},{key:"getAllShortcutsForCurrentPlatform",value:function(){return this.getAllShortcutsForPlatform(this._platformName)}},{key:"getShortcuts",value:function(e){(0,u.default)(e,"getShortcuts: name argument is not defined or falsy.");var t=this._keymap[e];if(t)return(0,a.default)(t).map(this._parseShortcutDescriptor).flatten().compact().value()}},{key:"_parseShortcutKeyName",value:function(e,t){var o=this;return a.default.findKey(e,function(e){if(a.default.isPlainObject(e)&&(e=a.default.get(e,o._platformName)),a.default.isArray(e)){var n=e.indexOf(t);n>=0&&(e=e[n])}return e===t})}},{key:"findShortcutName",value:function(e,t){(0,u.default)(e,"findShortcutName: keyName argument is not defined or falsy."),(0,u.default)(t,"findShortcutName: componentName argument is not defined or falsy.");var o=this._keymap[t];return this._parseShortcutKeyName(o,e)}}]),t}();c.CHANGE_EVENT="shortcuts:update",t.default=c,e.exports=t.default}).call(this,o(54))},228:function(e,t,o){"use strict";e.exports=o(229)},229:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=i(o(0)),a=i(o(230)),u=i(o(259)),s=i(o(55));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];return o=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n._combokeys=null,n._lastEvent=null,n._bindShortcuts=function(e){var t=n._getElementToBind();t&&(t.setAttribute("tabindex",n.props.tabIndex||-1),n._combokeys=new a.default(t),n._decorateCombokeys(),n._combokeys.bind(e,n._handleShortcuts,n.props.eventType),n.props.global&&t.addEventListener("shortcuts:global",n._customGlobalHandler))},n._customGlobalHandler=function(e){var t=e.detail,o=t.character,r=t.modifiers,a=t.event,u=null;n.props.targetNodeSelector&&(u=document.querySelector(n.props.targetNodeSelector)),e.target!==n._domNode&&e.target!==u&&n._combokeys.handleKey(o,r,a,!0)},n._decorateCombokeys=function(){var e=n._getElementToBind();if(e){var t=n._combokeys.handleKey.bind(n._combokeys);n._combokeys.stopCallback=function(e,t,o){var r="INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.contentEditable&&"true"===t.contentEditable,a=void 0;return a=e.key?1===e.key.length:Boolean(s.default.getCharacter(e)),!(!r||!a||n.props.alwaysFireHandler)},n._combokeys.handleKey=function(o,r,a,u){if(!n._lastEvent||a.timeStamp!==n._lastEvent.timeStamp||a.type!==n._lastEvent.type){n._lastEvent=a;var s=!1;if(n.props.isolate&&!a.__isolateShortcuts&&(a.__isolateShortcuts=!0,s=!0),u||e.dispatchEvent(new CustomEvent("shortcuts:global",{detail:{character:o,modifiers:r,event:a},bubbles:!0,cancelable:!0})),!a.__isolateShortcuts)return n.props.preventDefault&&a.preventDefault(),n.props.stopPropagation&&!u&&a.stopPropagation(),void t(o,r,a);(n.props.global||s)&&t(o,r,a)}}}},n._getElementToBind=function(){return n.props.targetNodeSelector?document.querySelector(n.props.targetNodeSelector):n._domNode},n._unbindShortcuts=function(){n._combokeys&&(n._combokeys.detach(),n._combokeys.reset())},n._onUpdate=function(){var e=n.props.name&&n.context.shortcuts.getShortcuts(n.props.name);n._unbindShortcuts(),n._bindShortcuts(e||[])},n._handleShortcuts=function(e,t){if(n.props.name){var o=n.context.shortcuts.findShortcutName(t,n.props.name);n.props.handler&&n.props.handler(o,e)}},l(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"componentDidMount",value:function(){this._onUpdate(),this.props.name&&this.context.shortcuts.addUpdateListener(this._onUpdate)}},{key:"componentWillUnmount",value:function(){if(this._unbindShortcuts(),this.props.name&&this.context.shortcuts.removeUpdateListener(this._onUpdate),this.props.global){var e=this._getElementToBind();if(!e)return;e.removeEventListener("shortcuts:global",this._customGlobalHandler)}}},{key:"render",value:function(){var e=this;return r.default.createElement("shortcuts",{ref:function(t){e._domNode=t},tabIndex:this.props.tabIndex||-1,className:this.props.className},this.props.children)}}]),t}();c.displayName="Shortcuts",c.contextTypes={shortcuts:u.default.object.isRequired},c.propTypes={children:u.default.node,handler:u.default.func,name:u.default.string,tabIndex:u.default.number,className:u.default.string,eventType:u.default.string,stopPropagation:u.default.bool,preventDefault:u.default.bool,targetNodeSelector:u.default.string,global:u.default.bool,isolate:u.default.bool,alwaysFireHandler:u.default.bool},c.defaultProps={tabIndex:null,className:null,eventType:null,stopPropagation:!0,preventDefault:!1,targetNodeSelector:null,global:!1,isolate:!1,alwaysFireHandler:!1},t.default=c,e.exports=t.default},259:function(e,t,o){e.exports=o(260)()},26:function(e,t,o){"use strict";e.exports={ShortcutManager:o(223),Shortcuts:o(228)}},260:function(e,t,o){"use strict";var n=o(39),r=o(40),a=o(261);e.exports=function(){function e(e,t,o,n,u,s){s!==a&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return o.checkPropTypes=n,o.PropTypes=o,o}},261:function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},55:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(227),a=(n=r)&&n.__esModule?n:{default:n};t.default={getPlatformName:function(){var e=a.default.os.family||"";return e=e.toLowerCase().replace(/ /g,""),e=/\bwin/.test(e)?"windows":/darwin|osx/.test(e)?"osx":/linux|freebsd|sunos|ubuntu|debian|fedora|redhat|suse/.test(e)?"linux":"other"},getCharacter:function(e){return null==e.which?String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode?String.fromCharCode(e.which):null}},e.exports=t.default}}]);